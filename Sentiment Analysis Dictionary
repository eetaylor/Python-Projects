{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "#T1\n",
    "\n",
    "#Imported Libraries \n",
    "import pandas as pd \n",
    "import numpy as np \n",
    "from bs4 import BeautifulSoup\n",
    "import requests\n",
    "pd.set_option('display.max_colwidth', 1500) \n",
    "\n",
    "#Import Frederick Douglas Speech \n",
    "page = requests.get('http://www.historyplace.com/speeches/douglass.htm')\n",
    " "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "soup = BeautifulSoup(page.text, \"html5lib\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 paragraph\n",
      "0                                                                                                                                                  [fellow, citizens, pardon, me, and, allow, me, to, ask, why, am, i, called, upon, to, speak, here, today, what, have, i, or, those, i, represent, to, do, with, your, national, independence, are, the, great, principles, of, political, freedom, and, of, natural, justice, embodied, in, that, declaration, of, independence, extended, to, us, and, am, i, therefore, called, upon, to, bring, our, humble, offering, to, the, national, altar, and, to, confess, the, benefits, and, express, devout, gratitude, for, the, blessings, resulting, from, your, independence, to, us]\n",
      "1                                                                [would, to, god, both, for, your, sakes, and, ours, that, an, affirmative, answer, could, be, truthfully, returned, to, these, questions, then, would, my, task, be, light, and, my, burden, easy, and, delightful, for, who, is, there, so, cold, that, a, nation's, sympathy, could, not, warm, him, who, so, obdurate, and, dead, to, the, claims, of, gratitude, that, would, not, thankfully, acknowledge, such, priceless, benefits, who, so, stolid, and, selfish, that, would, not, give, his, voice, to, swell, the, hallelujahs, of, a, nation's, jubilee, when, the, chains, of, servitude, had, been, torn, from, his, limbs, i, am, not, that, man, in, ...]\n",
      "2                                                            [but, such, is, not, the, state, of, the, case, i, say, it, with, a, sad, sense, of, disparity, between, us, i, am, not, included, within, the, pale, of, this, glorious, anniversary, your, high, independence, only, reveals, the, immeasurable, distance, between, us, the, blessings, in, which, you, this, day, rejoice, are, not, enjoyed, in, common, the, rich, inheritance, of, justice, liberty, prosperity, and, independence, bequeathed, by, your, fathers, is, shared, by, you, not, by, me, the, sunlight, that, brought, life, and, healing, to, you, has, brought, stripes, and, death, to, me, this, fourth, of, july, is, yours, not, mine, you, may, ...]\n",
      "3                                                                                                                                                                                                                                                                                  [fellow, citizens, above, your, national, tumultuous, joy, i, hear, the, mournful, wail, of, millions, whose, chains, heavy, and, grievous, yesterday, are, today, rendered, more, intolerable, by, the, jubilant, shouts, that, reach, them, if, i, do, forget, if, i, do, not, remember, those, bleeding, children, of, sorrow, this, day, \"may, my, right, hand, forget, her, cunning, and, may, my, tongue, cleave, to, the, roof, of, my, mouth!\"]\n",
      "4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          [to, forget, them, to, pass, lightly, over, their, wrongs, and, to, chime, in, with, the, popular, theme, would, be, treason, most, scandalous, and, shocking, and, would, make, me, a, reproach, before, god, and, the, world]\n",
      "5                                                                                                                                                                                                                                                                                                  [my, subject, then, fellow, citizens, is, \"american, slavery.\", i, shall, see, this, day, and, its, popular, characteristics, from, the, slave's, point, of, view, standing, here, identified, with, the, american, bondman, making, his, wrongs, mine, i, do, not, hesitate, to, declare, with, all, my, soul, that, the, character, and, conduct, of, this, nation, never, looked, blacker, to, me, than, on, this, fourth, of, july]\n",
      "6                                                                  [whether, we, turn, to, the, declarations, of, the, past, or, to, the, professions, of, the, present, the, conduct, of, the, nation, seems, equally, hideous, and, revolting, america, is, false, to, the, past, false, to, the, present, and, solemnly, binds, herself, to, be, false, to, the, future, standing, with, god, and, the, crushed, and, bleeding, slave, on, this, occasion, i, will, in, the, name, of, humanity, which, is, outraged, in, the, name, of, liberty, which, is, fettered, in, the, name, of, the, constitution, and, the, bible, which, are, disregarded, and, trampled, upon, dare, to, call, in, question, and, to, denounce, with, ...]\n",
      "7                                                                                  [but, i, fancy, i, hear, some, of, my, audience, say, it, is, just, in, this, circumstance, that, you, and, your, brother, abolitionists, fail, to, make, a, favorable, impression, on, the, public, mind, would, you, argue, more, and, denounce, less, would, you, persuade, more, and, rebuke, less, your, cause, would, be, much, more, likely, to, succeed, but, i, submit, where, all, is, plain, there, is, nothing, to, be, argued, what, point, in, the, anti-slavery, creed, would, you, have, me, argue, on, what, branch, of, the, subject, do, the, people, of, this, country, need, light, must, i, undertake, to, prove, that, the, ...]\n",
      "8                                                                          [what, is, this, but, the, acknowledgment, that, the, slave, is, a, moral, intellectual, and, responsible, being, the, manhood, of, the, slave, is, conceded, it, is, admitted, in, the, fact, that, southern, statute, books, are, covered, with, enactments, forbidding, under, severe, fines, and, penalties, the, teaching, of, the, slave, to, read, and, write, when, you, can, point, to, any, such, laws, in, reference, to, the, beasts, of, the, field, then, i, may, consent, to, argue, the, manhood, of, the, slave, when, the, dogs, in, your, streets, when, the, fowls, of, the, air, when, the, cattle, on, your, hills, when, the, fish, ...]\n",
      "9   [for, the, present, it, is, enough, to, affirm, the, equal, manhood, of, the, negro, race, is, it, not, astonishing, that, while, we, are, plowing, planting, and, reaping, using, all, kinds, of, mechanical, tools, erecting, houses, constructing, bridges, building, ships, working, in, metals, of, brass, iron, copper, silver, and, gold, that, while, we, are, reading, writing, and, ciphering, acting, as, clerks, merchants, and, secretaries, having, among, us, lawyers, doctors, ministers, poets, authors, editors, orators, and, teachers, that, we, are, engaged, in, all, the, enterprises, common, to, other, men, --, digging, gold, in, california, capturing, the, whale, in, the, pacific, feeding, sheep, ...]\n",
      "10                                                   [would, you, have, me, argue, that, man, is, entitled, to, liberty, that, he, is, the, rightful, owner, of, his, own, body, you, have, already, declared, it, must, i, argue, the, wrongfulness, of, slavery, is, that, a, question, for, republicans, is, it, to, be, settled, by, the, rules, of, logic, and, argumentation, as, a, matter, beset, with, great, difficulty, involving, a, doubtful, application, of, the, principle, of, justice, hard, to, understand, how, should, i, look, today, in, the, presence, of, americans, dividing, and, subdividing, a, discourse, to, show, that, men, have, a, natural, right, to, freedom, speaking, of, it, relatively, and, ...]\n",
      "11                                                                                         [what, am, i, to, argue, that, it, is, wrong, to, make, men, brutes, to, rob, them, of, their, liberty, to, work, them, without, wages, to, keep, them, ignorant, of, their, relations, to, their, fellow, men, to, beat, them, with, sticks, to, flay, their, flesh, with, the, lash, to, load, their, limbs, with, irons, to, hunt, them, with, dogs, to, sell, them, at, auction, to, sunder, their, families, to, knock, out, their, teeth, to, burn, their, flesh, to, starve, them, into, obedience, and, submission, to, their, masters, must, i, argue, that, a, system, thus, marked, with, blood, and, stained, with, pollution, ...]\n",
      "12                                                                                                                                                                                                                                                                                                                                                      [what, then, remains, to, be, argued, is, it, that, slavery, is, not, divine, that, god, did, not, establish, it, that, our, doctors, of, divinity, are, mistaken, there, is, blasphemy, in, the, thought, that, which, is, inhuman, cannot, be, divine, who, can, reason, on, such, a, proposition, they, that, can, may, -, i, cannot, the, time, for, such, argument, is, past]\n",
      "13                                                                   [at, a, time, like, this, scorching, irony, not, convincing, argument, is, needed, oh, had, i, the, ability, and, could, i, reach, the, nation's, ear, i, would, today, pour, out, a, fiery, stream, of, biting, ridicule, blasting, reproach, withering, sarcasm, and, stern, rebuke, for, it, is, not, light, that, is, needed, but, fire, it, is, not, the, gentle, shower, but, thunder, we, need, the, storm, the, whirlwind, and, the, earthquake, the, feeling, of, the, nation, must, be, quickened, the, conscience, of, the, nation, must, be, roused, the, propriety, of, the, nation, must, be, startled, the, hypocrisy, of, the, nation, must, be, ...]\n",
      "14                                      [what, to, the, american, slave, is, your, fourth, of, july, i, answer, a, day, that, reveals, to, him, more, than, all, other, days, of, the, year, the, gross, injustice, and, cruelty, to, which, he, is, the, constant, victim, to, him, your, celebration, is, a, sham, your, boasted, liberty, an, unholy, license, your, national, greatness, swelling, vanity, your, sounds, of, rejoicing, are, empty, and, heartless, your, shouts, of, liberty, and, equality, hollow, mock, your, prayers, and, hymns, your, sermons, and, thanksgivings, with, all, your, religious, parade, and, solemnity, are, to, him, mere, bombast, fraud, deception, impiety, and, hypocrisy, -, a, thin, ...]\n",
      "15                                                                                                                                                                                                                                                                                                           [go, search, where, you, will, roam, through, all, the, monarchies, and, despotisms, of, the, old, world, travel, through, south, america, search, out, every, abuse, and, when, you, have, found, the, last, lay, your, facts, by, the, side, of, the, everyday, practices, of, this, nation, and, you, will, say, with, me, that, for, revolting, barbarity, and, shameless, hypocrisy, america, reigns, without, a, rival]\n",
      "16                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 [frederick, douglass, -, july, 4, 1852]\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "pandas.core.frame.DataFrame"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#Pulling only the speech in the text in, we excluded text from ads and such \n",
    "speech_html = soup.select(\"blockquote > blockquote > p > b\")\n",
    "\n",
    "speech_text = []\n",
    "\n",
    "#Turned text into a list we can use \n",
    "for tag in speech_html:\n",
    "    speech_text.append(tag.get_text(\" \", strip=True))\n",
    "\n",
    "\n",
    "#Making the list into a data frame\n",
    "speech_df = pd.DataFrame({'paragraph':speech_text})\n",
    "\n",
    "# cleaning paragraphs of punctuation and useless spaces\n",
    "speech_df['paragraph'] = speech_df.paragraph.apply(lambda x: [word.rstrip('?:!.,;').lower() for word in x.split() if True])\n",
    "\n",
    "print(speech_df)\n",
    "\n",
    "type(speech_df)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                                                                                                                                                paragraph  \\\n",
      "0   [fellow, citizens, pardon, me, and, allow, me, to, ask, why, am, i, called, upon, to, speak, here, today, what, have, i, or, those, i, represent, ...   \n",
      "1   [would, to, god, both, for, your, sakes, and, ours, that, an, affirmative, answer, could, be, truthfully, returned, to, these, questions, then, wo...   \n",
      "2   [but, such, is, not, the, state, of, the, case, i, say, it, with, a, sad, sense, of, disparity, between, us, i, am, not, included, within, the, pa...   \n",
      "3   [fellow, citizens, above, your, national, tumultuous, joy, i, hear, the, mournful, wail, of, millions, whose, chains, heavy, and, grievous, yester...   \n",
      "4   [to, forget, them, to, pass, lightly, over, their, wrongs, and, to, chime, in, with, the, popular, theme, would, be, treason, most, scandalous, an...   \n",
      "5   [my, subject, then, fellow, citizens, is, \"american, slavery.\", i, shall, see, this, day, and, its, popular, characteristics, from, the, slave's, ...   \n",
      "6   [whether, we, turn, to, the, declarations, of, the, past, or, to, the, professions, of, the, present, the, conduct, of, the, nation, seems, equall...   \n",
      "7   [but, i, fancy, i, hear, some, of, my, audience, say, it, is, just, in, this, circumstance, that, you, and, your, brother, abolitionists, fail, to...   \n",
      "8   [what, is, this, but, the, acknowledgment, that, the, slave, is, a, moral, intellectual, and, responsible, being, the, manhood, of, the, slave, is...   \n",
      "9   [for, the, present, it, is, enough, to, affirm, the, equal, manhood, of, the, negro, race, is, it, not, astonishing, that, while, we, are, plowing...   \n",
      "10  [would, you, have, me, argue, that, man, is, entitled, to, liberty, that, he, is, the, rightful, owner, of, his, own, body, you, have, already, de...   \n",
      "11  [what, am, i, to, argue, that, it, is, wrong, to, make, men, brutes, to, rob, them, of, their, liberty, to, work, them, without, wages, to, keep, ...   \n",
      "12  [what, then, remains, to, be, argued, is, it, that, slavery, is, not, divine, that, god, did, not, establish, it, that, our, doctors, of, divinity...   \n",
      "13  [at, a, time, like, this, scorching, irony, not, convincing, argument, is, needed, oh, had, i, the, ability, and, could, i, reach, the, nation's, ...   \n",
      "14  [what, to, the, american, slave, is, your, fourth, of, july, i, answer, a, day, that, reveals, to, him, more, than, all, other, days, of, the, yea...   \n",
      "15  [go, search, where, you, will, roam, through, all, the, monarchies, and, despotisms, of, the, old, world, travel, through, south, america, search,...   \n",
      "16                                                                                                                [frederick, douglass, -, july, 4, 1852]   \n",
      "\n",
      "                                                                                                                                          clean_paragraph  \n",
      "0   [fellow, citizens, pardon, allow, ask, called, upon, speak, today, represent, national, independence, great, principles, political, freedom, natur...  \n",
      "1   [would, god, sakes, affirmative, answer, could, truthfully, returned, questions, would, task, light, burden, easy, delightful, cold, nation's, sym...  \n",
      "2   [state, case, say, sad, sense, disparity, us, included, within, pale, glorious, anniversary, high, independence, reveals, immeasurable, distance, ...  \n",
      "3   [fellow, citizens, national, tumultuous, joy, hear, mournful, wail, millions, whose, chains, heavy, grievous, yesterday, today, rendered, intolera...  \n",
      "4                         [forget, pass, lightly, wrongs, chime, popular, theme, would, treason, scandalous, shocking, would, make, reproach, god, world]  \n",
      "5   [subject, fellow, citizens, \"american, slavery.\", shall, see, day, popular, characteristics, slave's, point, view, standing, identified, american,...  \n",
      "6   [whether, turn, declarations, past, professions, present, conduct, nation, seems, equally, hideous, revolting, america, false, past, false, presen...  \n",
      "7   [fancy, hear, audience, say, circumstance, brother, abolitionists, fail, make, favorable, impression, public, mind, would, argue, denounce, less, ...  \n",
      "8   [acknowledgment, slave, moral, intellectual, responsible, manhood, slave, conceded, admitted, fact, southern, statute, books, covered, enactments,...  \n",
      "9   [present, enough, affirm, equal, manhood, negro, race, astonishing, plowing, planting, reaping, using, kinds, mechanical, tools, erecting, houses,...  \n",
      "10  [would, argue, man, entitled, liberty, rightful, owner, body, already, declared, must, argue, wrongfulness, slavery, question, republicans, settle...  \n",
      "11  [argue, wrong, make, men, brutes, rob, liberty, work, without, wages, keep, ignorant, relations, fellow, men, beat, sticks, flay, flesh, lash, loa...  \n",
      "12  [remains, argued, slavery, divine, god, establish, doctors, divinity, mistaken, blasphemy, thought, inhuman, cannot, divine, reason, proposition, ...  \n",
      "13  [time, like, scorching, irony, convincing, argument, needed, oh, ability, could, reach, nation's, ear, would, today, pour, fiery, stream, biting, ...  \n",
      "14  [american, slave, fourth, july, answer, day, reveals, days, year, gross, injustice, cruelty, constant, victim, celebration, sham, boasted, liberty...  \n",
      "15  [go, search, roam, monarchies, despotisms, old, world, travel, south, america, search, every, abuse, found, last, lay, facts, side, everyday, prac...  \n",
      "16                                                                                                                [frederick, douglass, -, july, 4, 1852]  \n",
      "0      84\n",
      "1     117\n",
      "2     193\n",
      "3      66\n",
      "4      35\n",
      "5      63\n",
      "6     172\n",
      "7     182\n",
      "8     130\n",
      "9     148\n",
      "10    141\n",
      "11    121\n",
      "12     60\n",
      "13    111\n",
      "14    139\n",
      "15     62\n",
      "16      6\n",
      "Name: paragraph, dtype: int64\n",
      "Paragraph Length: 1830\n",
      "0     40\n",
      "1     53\n",
      "2     88\n",
      "3     36\n",
      "4     16\n",
      "5     31\n",
      "6     77\n",
      "7     82\n",
      "8     51\n",
      "9     85\n",
      "10    61\n",
      "11    54\n",
      "12    22\n",
      "13    57\n",
      "14    65\n",
      "15    30\n",
      "16     6\n",
      "Name: clean_paragraph, dtype: int64\n",
      "Clean Paragraph Length: 854\n"
     ]
    }
   ],
   "source": [
    "#T1\n",
    "import math\n",
    "import requests\n",
    "pd.set_option('display.max_colwidth', 150) \n",
    "\n",
    "#Imported the stop words\n",
    "from nltk.corpus import stopwords\n",
    "nltk_stopwords = stopwords.words(\"english\")\n",
    "\n",
    "#made a new column with the stop words removed\n",
    "speech_df['clean_paragraph'] = speech_df['paragraph'].map(lambda x: [word for word in x if word not in nltk_stopwords])\n",
    "print(speech_df)\n",
    "\n",
    "#Printed the pargraph section and clean paragraph section to spot check and to get the lenghs of each text\n",
    "paragraph_len = sum(speech_df['paragraph'].map(lambda x: len(x)))\n",
    "clean_paragraph_len = sum(speech_df['clean_paragraph'].map(lambda x: len(x)))\n",
    "print(speech_df['paragraph'].map(lambda x: len(x)))\n",
    "print('Paragraph Length: {}'.format(paragraph_len))\n",
    "print(speech_df['clean_paragraph'].map(lambda x: len(x)))\n",
    "print('Clean Paragraph Length: {}'.format(clean_paragraph_len))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 105,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "HL pos  size: 2006\n",
      "['a+', 'abound', 'abounds', 'abundance', 'abundant', 'accessable', 'accessible', 'acclaim', 'acclaimed', 'acclamation']\n",
      "HL neg  size: 4783\n",
      "['2-faced', '2-faces', 'abnormal', 'abolish', 'abominable', 'abominably', 'abominate', 'abomination', 'abort', 'aborted']\n",
      "0     Positive\n",
      "1     Negative\n",
      "2     Positive\n",
      "3     Positive\n",
      "4     Negative\n",
      "5     Positive\n",
      "6     Negative\n",
      "7     Negative\n",
      "8     Positive\n",
      "9     Positive\n",
      "10    Negative\n",
      "11    Negative\n",
      "12    Negative\n",
      "13    Positive\n",
      "14    Negative\n",
      "15    Negative\n",
      "16     Neutral\n",
      "Name: afinn, dtype: object\n",
      "0     Positive\n",
      "1     Negative\n",
      "2     Positive\n",
      "3     Positive\n",
      "4     Negative\n",
      "5     Positive\n",
      "6     Negative\n",
      "7     Negative\n",
      "8     Positive\n",
      "9     Positive\n",
      "10    Negative\n",
      "11    Negative\n",
      "12    Negative\n",
      "13    Positive\n",
      "14    Negative\n",
      "15    Negative\n",
      "16     Neutral\n",
      "Name: clean_afinn, dtype: object\n"
     ]
    }
   ],
   "source": [
    "#T2\n",
    "\n",
    "import os \n",
    "path=\"/Users/emmydoo19/Desktop/BIA 6304/\"\n",
    "os.chdir(path)\n",
    "\n",
    "#Pulling in our sentiment dictionary and giving instructions on how to determine if a paragraph is positive or negative\n",
    "afinn = {}\n",
    "for line in open(path+\"AFINN-111.txt\"):\n",
    "    tt = line.split('\\t')\n",
    "    afinn.update({tt[0]:int(tt[1])})\n",
    "\n",
    "    \n",
    "HLpos = [line.strip() for line in  open(path+'HLpos.txt','r')]\n",
    "HLneg = [line.strip() for line in  open(path +'HLneg.txt','r',encoding = 'latin-1')]\n",
    "print(\"HL pos  size: \" + str(len(HLpos)))\n",
    "print(HLpos[0:10])\n",
    "print(\"HL neg  size: \" + str(len(HLneg)))\n",
    "print(HLneg[0:10])\n",
    "    \n",
    "\n",
    "def afinn_sent(word_list):\n",
    "    \n",
    "    sentcount =0\n",
    "    for word in word_list:  \n",
    "        if word in afinn:\n",
    "            sentcount = sentcount + afinn[word]\n",
    "            \n",
    "    \n",
    "    if (sentcount < 0):\n",
    "        sentiment = 'Negative'\n",
    "    elif (sentcount >0):\n",
    "        sentiment = 'Positive'\n",
    "    else:\n",
    "        sentiment = 'Neutral'\n",
    "    \n",
    "    return sentiment\n",
    "    #return sentcount\n",
    "\n",
    "#Applying the dictionary to the original paragraph text\n",
    "speech_df['afinn'] = speech_df.paragraph.apply(lambda x: afinn_sent(x))\n",
    "print(speech_df['afinn'])\n",
    "\n",
    "#Applying the dictionary to the clean paragraph text with no stop words\n",
    "speech_df['clean_afinn'] = speech_df.clean_paragraph.apply(lambda x: afinn_sent(x))\n",
    "print(speech_df['clean_afinn'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 106,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0     Positive\n",
      "1     Positive\n",
      "2     Positive\n",
      "3     Positive\n",
      "4     Negative\n",
      "5     Positive\n",
      "6     Negative\n",
      "7     Negative\n",
      "8     Positive\n",
      "9      Neutral\n",
      "10     Neutral\n",
      "11    Negative\n",
      "12    Negative\n",
      "13    Negative\n",
      "14    Negative\n",
      "15    Negative\n",
      "16     Neutral\n",
      "Name: afinn2, dtype: object\n",
      "0     Positive\n",
      "1     Negative\n",
      "2     Positive\n",
      "3     Positive\n",
      "4     Negative\n",
      "5     Positive\n",
      "6     Negative\n",
      "7     Negative\n",
      "8     Positive\n",
      "9      Neutral\n",
      "10    Positive\n",
      "11     Neutral\n",
      "12    Negative\n",
      "13    Positive\n",
      "14    Negative\n",
      "15    Negative\n",
      "16     Neutral\n",
      "Name: clean_afinn2, dtype: object\n"
     ]
    }
   ],
   "source": [
    "#T3\n",
    "\n",
    "#Surprised to see paragraph positve paragraphs given the topic of the speech\n",
    "#Amplified and Negated words in the text\n",
    "\n",
    "negate = [\"aint\", \"arent\",\"cant\", \"couldnt\" , \"didnt\" , \"doesnt\" ,\"dont\" ,\"hasnt\" , \"isnt\" ,\"mightnt\" , \"mustnt\" ,\"neither\" ,\"never\", \"no\" ,\"nobody\" , \"nor\", \"not\" , \"shant\", \"shouldnt\", \"wasnt\" , \"werent\" ,\"wont\", \"wouldnt\"]\n",
    "amplify = [\"acute\" ,\"acutely\", \"certain\", \"certainly\" ,\"colossal\", \"colossally\",\"deep\" , \"deeply\" , \"definite\",\"definitely\" ,\"enormous\",\"enormously\" , \"extreme\", \"extremely\" ,\"great\",\"greatly\" ,\"heavily\", \"heavy\", \"high\",\"highly\" ,\"huge\",\"hugely\" , \"immense\", \"immensely\" ,\"incalculable\" ,\"incalculably\",\"massive\", \"massively\", \"more\",\"particular\" ,\"particularly\",\"purpose\", \"purposely\", \"quite\" ,\"real\" ,\"really\",\"serious\", \"seriously\", \"severe\",\"severely\" ,\"significant\" ,\"significantly\",\"sure\",\"surely\" , \"true\" ,\"truly\" ,\"vast\" , \"vastly\" , \"very\"]\n",
    "\n",
    "#Creating a new sentiment dictionary with instructions of how to apply our Amplified and Negated words \n",
    "def afinn_sent2(word_list):\n",
    "    \n",
    "    sentcount =0\n",
    "    i=0\n",
    "    \n",
    "\n",
    "    for word in word_list:\n",
    "        prev = word_list.pop(i-1)\n",
    "\n",
    "        if word in afinn:\n",
    "            if (prev == 'no'):\n",
    "                sentcount = sentcount - afinn[word] - afinn[prev]\n",
    "            elif (prev == 'not'):\n",
    "                sentcount = sentcount - afinn[word]\n",
    "            else:\n",
    "                sentcount = sentcount + afinn[word]\n",
    "            i+=1\n",
    "    \n",
    "    if (sentcount < 0):\n",
    "        sentiment = 'Negative'\n",
    "    elif (sentcount >0):\n",
    "        sentiment = 'Positive'\n",
    "    else:\n",
    "        sentiment = 'Neutral'\n",
    "    \n",
    "    \n",
    "    return sentiment\n",
    "\n",
    "#Applied new sentiment dictionary to original speech paragraphs\n",
    "speech_df['afinn2'] = speech_df.paragraph.apply(lambda x: afinn_sent2(x))\n",
    "print(speech_df['afinn2'])\n",
    "\n",
    "#Applied new sentiment dictionary to clean speech paragraphs without stop words\n",
    "speech_df['clean_afinn2'] = speech_df.clean_paragraph.apply(lambda x: afinn_sent2(x))\n",
    "print(speech_df['clean_afinn2'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 107,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "run\n",
      "lie\n",
      "car\n",
      "drop\n"
     ]
    }
   ],
   "source": [
    "#Bonus\n",
    "\n",
    "from collections import Counter \n",
    "\n",
    "from nltk.corpus import wordnet # To get words in dictionary with their parts of speech\n",
    "from nltk.stem import WordNetLemmatizer # lemmatizes word based on it's parts of speech\n",
    "\n",
    "#defining the POS tagger to use \n",
    "def get_pos( word ):\n",
    "    w_synsets = wordnet.synsets(word)\n",
    "\n",
    "    pos_counts = Counter()\n",
    "    pos_counts[\"n\"] = len(  [ item for item in w_synsets if item.pos()==\"n\"]  )\n",
    "    pos_counts[\"v\"] = len(  [ item for item in w_synsets if item.pos()==\"v\"]  )\n",
    "    pos_counts[\"a\"] = len(  [ item for item in w_synsets if item.pos()==\"a\"]  )\n",
    "    pos_counts[\"r\"] = len(  [ item for item in w_synsets if item.pos()==\"r\"]  )\n",
    "    \n",
    "    most_common_pos_list = pos_counts.most_common(3)\n",
    "    return most_common_pos_list[0][0] # first indexer for getting the top POS from list, second indexer for getting POS from tuple( POS: count )\n",
    "\n",
    "#Running the lemmitizer with POS tagged words\n",
    "words = [\"running\",\"lying\",\"cars\",\"dropped\"]\n",
    "wnl = WordNetLemmatizer()\n",
    "for word in words:\n",
    "    print(wnl.lemmatize( word, get_pos(word) )) #printing without newline character\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
